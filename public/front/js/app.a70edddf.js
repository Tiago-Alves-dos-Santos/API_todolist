(function(){"use strict";var e={7436:function(e,t,o){var a=o(9242),r=o(3396);function l(e,t){const o=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(o)}var n=o(89);const i={},s=(0,n.Z)(i,[["render",l]]);var d=s,u=o(2483),c=(o(8858),o(1318),o(3228),o(560),o(4870)),p=o(5935),m=o(1020),h=o(1076);let f={url:"http://localhost:8000/api/"};f.endpoints={task:f.url+"task/"},f.task={operations:{create:{method:"POST",url:f.endpoints.task+"create"},read:{method:"GET",url:f.endpoints.task},update:{method:"PUT",url:f.endpoints.task+"update"},delete:{method:"DELETE",url:f.endpoints.task+"delete"},conclued:{method:"PUT",url:f.endpoints.task+"conclued"}}},f.auth={operations:{login:{method:"POST",url:f.url+"login"}}};var g=f;const v=(0,m.Q_)("task",{state:()=>({form:{user_id:0,title:"",concluded:!1},loads:{create:!1,update:-1,delete:-1,conclude:-1,read:!1},tasks:{},token:"",errors:{}}),actions:{create(){this.loads.create=!0,this.errors={},(0,h.Z)({headers:{Authorization:`Bearer ${this.token}`},method:g.task.operations.create.method,url:g.task.operations.create.url,data:{title:this.form.title}}).then((()=>{this.loads.create=!1})).catch((e=>{this.errors=e.response.data.errors,this.loads.create=!1}))},async read(e=""){this.loads.read=!0;let t=g.task.operations.read.url;if(e){t=g.task.operations.read.url+"?"+e;let o=window.location.href,a=o.split("?")[0];a=a+"?"+e,history.pushState(null,null,a)}this.errors={},await(0,h.Z)({headers:{Authorization:`Bearer ${this.token}`},method:g.task.operations.read.method,url:t}).then((e=>{this.tasks=e.data.tasks,this.loads.read=!1})).catch((e=>{this.errors=e.response.data.errors,this.loads.read=!1}))},update(e,t){this.errors={},this.loads.update=e,(0,h.Z)({headers:{Authorization:`Bearer ${this.token}`},method:g.task.operations.update.method,url:g.task.operations.update.url,data:{id:e,title:t}}).then((()=>{this.loads.update=-1})).catch((e=>{this.errors=e.response.data.errors,this.loads.update=-1}))},delete(e){this.errors={},this.loads.delete=e,(0,h.Z)({headers:{Authorization:`Bearer ${this.token}`},method:g.task.operations.delete.method,url:g.task.operations.delete.url,data:{id:e}}).then((()=>{this.loads.delete=-1})).catch((e=>{this.errors=e.response.data.errors,this.loads.delete=-1}))},conclued(e){this.errors={},this.loads.conclude=e,(0,h.Z)({headers:{Authorization:`Bearer ${this.token}`},method:g.task.operations.conclued.method,url:g.task.operations.conclued.url,data:{id:e}}).then((()=>{this.loads.conclude=-1})).catch((e=>{this.errors=e.response.data.errors,this.loads.conclude=-1}))},search(){this.errors={}}}}),k=(0,m.Q_)("login",{state:()=>({email:"",password:"",errors:{},load:!1,auth:null}),actions:{login(){this.load=!0,h.Z.get(g.auth.operations.login.url,{params:{email:this.email,password:this.password}}).then((e=>{let t=e.data;"200"==e.status&&t.cacheble&&(localStorage.setItem("token",t.token),re.push({name:"home"}),this.load=!1)})).catch((e=>{this.errors=e.response.data.errors,this.load=!1}))},logout(){localStorage.removeItem("token"),re.push({name:"login"})}}});var w=o(2492),_=o.n(w);const b={class:"container"},y={class:"content"};function S(e,t){return(0,r.wg)(),(0,r.iD)("div",b,[(0,r._)("div",y,[(0,r.WI)(e.$slots,"default",{},void 0,!0)])])}const x={},U=(0,n.Z)(x,[["render",S],["__scopeId","data-v-35f1e4b8"]]);var C=U,W=o(7139);const j={class:"content"};var V={__name:"CardRow",props:{title:String,color:String},setup(e){return(t,o)=>{const a=(0,r.up)("v-card");return(0,r.wg)(),(0,r.j4)(a,{class:"card-row",variant:"elevated",color:e.color},{default:(0,r.w5)((()=>[(0,r._)("div",j,[(0,r._)("h3",null,(0,W.zw)(e.title),1),(0,r._)("div",null,[(0,r.WI)(t.$slots,"default")])])])),_:3},8,["color"])}}};const O=V;var T=O,B={__name:"ButtonTooltip",props:{text:String,icon:String,color:String,location:String,loading:{type:Boolean,default:!1}},emits:["click"],setup(e){return(t,o)=>{const a=(0,r.up)("v-btn"),l=(0,r.up)("v-tooltip");return(0,r.wg)(),(0,r.j4)(l,{text:e.text,location:e.location},{activator:(0,r.w5)((({props:l})=>[(0,r.Wm)(a,(0,r.dG)({color:e.color},l,{icon:e.icon,class:"mr-2",onClick:o[0]||(o[0]=e=>t.$emit("click")),loading:e.loading,disabled:e.loading}),null,16,["color","icon","loading","disabled"])])),_:1},8,["text","location"])}}};const D=B;var E=D;function Z(e,t,o,a,l,n){const i=(0,r.up)("v-alert");return n.hasErrors?((0,r.wg)(),(0,r.j4)(i,{key:0,color:"error",icon:"$error",title:"Erros"},{default:(0,r.w5)((()=>[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.errors,((e,t)=>((0,r.wg)(),(0,r.iD)("li",{key:t},[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e,((e,t)=>((0,r.wg)(),(0,r.iD)("li",{key:t},(0,W.zw)(e),1)))),128))])])))),128))])])),_:1})):(0,r.kq)("",!0)}var I={props:{errors:{type:[Array,Object],default:null}},computed:{hasErrors(){return Object.keys(this.errors).length>0}}};const P=(0,n.Z)(I,[["render",Z]]);var A=P;const $={class:"home"},z={class:"d-flex justify-center"},H={key:0},L={class:"d-flex justify-end"};var M={__name:"HomeView",setup(e){const t=v(),o=k(),l=(0,c.iH)(null),n=(0,c.iH)(!1),i=(0,p.Fg)();function s(){i.global.name.value=i.global.current.value.dark?"light":"dark"}async function d(){t.create(),t.form.title="",await t.read(g(t.tasks.current_page??1)),l.value.focus()}function u(e){_().fire({title:"Editar tarefa.",text:"A tarefa '"+e.title+"' está a ser editada.",input:"text",inputAttributes:{autocapitalize:"off"},inputValue:e.title,showCancelButton:!0,confirmButtonText:"Salvar",cancelButtonText:"Cancelar"}).then((o=>{o.isConfirmed&&(t.update(e.id,o.value),t.read(g(t.tasks.current_page??1)),t.form.title="",l.value.focus())}))}function m(e){_().fire({title:"Do prosseguir com a deleção?",text:"A tarefa '"+e.title+"' à ser deletada.",showCancelButton:!0,confirmButtonText:"Cancelar",cancelButtonText:"Deletar"}).then((o=>{o.isDismissed&&(t.delete(e.id),t.read(g(t.tasks.current_page??1)),t.form.title="",l.value.focus())}))}function h(e){t.conclued(e.id),t.read(g(t.tasks.current_page??1)),t.form.title="",l.value.focus()}function f(e){t.read(g(e))}function g(e){const o=[{key:"page",value:e},{key:"title",value:t.form.title},{key:"concluded",value:t.form.concluded}],a={};return o.forEach((e=>{a[e.key]=e.value})),new URLSearchParams(a).toString()}function w(){t.read(g(t.tasks.current_page??1))}function b(){o.logout()}return(0,r.bv)((()=>{window.check()?(t.token=localStorage.getItem("token"),t.read()):re.push({name:"login"})})),(e,o)=>{const p=(0,r.up)("v-switch"),g=(0,r.up)("v-text-field"),v=(0,r.up)("v-btn"),k=(0,r.up)("v-checkbox"),_=(0,r.up)("v-card"),y=(0,r.up)("v-pagination");return(0,r.wg)(),(0,r.iD)("div",$,[(0,r.Wm)(C,null,{default:(0,r.w5)((()=>[(0,r.Wm)(_,{class:"mx-auto card-center",style:{padding:"10px"}},{default:(0,r.w5)((()=>[(0,r._)("div",null,[(0,r.Wm)(p,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=e=>n.value=e),label:(0,c.SU)(i).global.current.value.dark?"Tema escuro":"Tema claro",color:"red-darken-3",value:"red-darken-3","hide-details":"",onChange:s},null,8,["modelValue","label"])]),(0,r._)("form",{onSubmit:(0,a.iM)(d,["prevent"])},[(0,r.Wm)(g,{ref_key:"input_task",ref:l,label:"Sua tarefa","hide-details":"auto",modelValue:(0,c.SU)(t).form.title,"onUpdate:modelValue":o[1]||(o[1]=e=>(0,c.SU)(t).form.title=e)},null,8,["modelValue"]),(0,r.Wm)(_,{class:"d-flex flex-column mt-2 py-2 px-1",variant:"outlined"},{default:(0,r.w5)((()=>[(0,r._)("div",z,[(0,r.Wm)(v,{type:"submit",color:"primary",class:"mr-2","prepend-icon":"mdi-plus",loading:(0,c.SU)(t).loads.create,disabled:(0,c.SU)(t).loads.create},{default:(0,r.w5)((()=>[(0,r.Uk)(" Cadastrar ")])),_:1},8,["loading","disabled"]),(0,r.Wm)(v,{type:"button",color:"info","prepend-icon":"mdi-magnify",onClick:w,loading:(0,c.SU)(t).loads.read,disabled:(0,c.SU)(t).loads.read},{default:(0,r.w5)((()=>[(0,r.Uk)(" Buscar ")])),_:1},8,["loading","disabled"])]),(0,r._)("div",null,[(0,r.Wm)(k,{modelValue:(0,c.SU)(t).form.concluded,"onUpdate:modelValue":o[2]||(o[2]=e=>(0,c.SU)(t).form.concluded=e),label:"Concluídas",color:"success",onChange:w,"hide-details":""},null,8,["modelValue"])])])),_:1})],32),(0,r.Wm)(A,{errors:(0,c.SU)(t).errors,class:"mt-2"},null,8,["errors"]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,c.SU)(t).tasks.data,(e=>((0,r.wg)(),(0,r.j4)(T,{title:e.title,color:e.concluded?"green":"",class:"mt-2",key:e.id},{default:(0,r.w5)((()=>[e.concluded?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",H,[((0,r.wg)(),(0,r.j4)(E,{text:"Editar",location:"top",color:"warning",icon:"mdi-square-edit-outline",class:"mr-2",onClick:t=>u(e),loading:(0,c.SU)(t).loads.update==e.id,key:e.id},null,8,["onClick","loading"])),((0,r.wg)(),(0,r.j4)(E,{text:"Concluir",location:"top",color:"success",icon:"mdi-check-bold",class:"mr-2",onClick:t=>h(e),loading:(0,c.SU)(t).loads.conclude==e.id,key:e.id},null,8,["onClick","loading"])),(0,r.Wm)(E,{text:"Deletar",location:"top",color:"error",icon:"mdi-delete",class:"mr-2",onClick:t=>m(e),loading:(0,c.SU)(t).loads.delete==e.id},null,8,["onClick","loading"])]))])),_:2},1032,["title","color"])))),128)),(0,r._)("div",null,[(0,r.Wm)(y,{modelValue:(0,c.SU)(t).tasks.current_page,"onUpdate:modelValue":[o[3]||(o[3]=e=>(0,c.SU)(t).tasks.current_page=e),f],length:(0,c.SU)(t).tasks.last_page,"total-visible":4},null,8,["modelValue","length"])]),(0,r._)("div",L,[(0,r.Wm)(v,{type:"button",color:"error","prepend-icon":"mdi-exit-run",onClick:b},{default:(0,r.w5)((()=>[(0,r.Uk)(" sair ")])),_:1})])])),_:1})])),_:1})])}}};const q=(0,n.Z)(M,[["__scopeId","data-v-a113652c"]]);var K=q;const R={class:"home"},Y={class:"d-flex justify-end mt-2"};function F(e,t,o,l,n,i){const s=(0,r.up)("v-text-field"),d=(0,r.up)("password-input"),u=(0,r.up)("v-btn"),c=(0,r.up)("alert-erros"),p=(0,r.up)("v-card"),m=(0,r.up)("center-layout");return(0,r.wg)(),(0,r.iD)("div",R,[(0,r.Wm)(m,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,{title:"Login",class:"card-center mx-auto",style:{padding:"10px"}},{default:(0,r.w5)((()=>[(0,r._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>i.logim&&i.logim(...e)),["prevent"]))},[(0,r.Wm)(s,{label:"Email","hide-details":"auto",variant:"outlined",modelValue:n.login.email,"onUpdate:modelValue":t[0]||(t[0]=e=>n.login.email=e)},null,8,["modelValue"]),(0,r.Wm)(d,{variant:"outlined",class:"mt-1",modelValue:n.login.password,"onUpdate:modelValue":t[1]||(t[1]=e=>n.login.password=e)},null,8,["modelValue"]),(0,r._)("div",Y,[(0,r.Wm)(u,{type:"submit",color:"primary",class:"mr-2",loading:n.login.load,disabled:n.login.load},{default:(0,r.w5)((()=>[(0,r.Uk)(" Login ")])),_:1},8,["loading","disabled"])])],32),(0,r.Wm)(c,{errors:n.login.errors,class:"mt-2"},null,8,["errors"])])),_:1})])),_:1})])}function G(e,t,o,a,l,n){const i=(0,r.up)("v-text-field");return(0,r.wg)(),(0,r.j4)(i,{"append-icon":l.show?"mdi-eye":"mdi-eye-off",type:l.show?"text":"password",name:"input-10-1",label:"Senha","onClick:append":t[0]||(t[0]=e=>l.show=!l.show)},null,8,["append-icon","type"])}var Q={data(){return{show:!1}}};const J=(0,n.Z)(Q,[["render",G]]);var N=J,X={name:"HomeView",components:{CenterLayout:C,PasswordInput:N,AlertErros:A},data(){return{login:k()}},methods:{logim(){this.login.login()}},mounted(){this.login.email="",this.login.password=""}};const ee=(0,n.Z)(X,[["render",F],["__scopeId","data-v-fbe737bc"]]);var te=ee;const oe=[{path:"/home",name:"home",component:K},{path:"/",name:"login",component:te}],ae=(0,u.p7)({history:(0,u.PO)("/"),routes:oe});var re=ae,le=(o(9773),o(8957)),ne=o(8898),ie=o(8600),se=o(6205);const de=(0,le.Rd)({components:ne,directives:ie,labsComponents:se,icons:{defaultSet:"mdi"}});var ue=de;const ce=(0,m.WB)(),pe=(0,a.ri)(d);pe.use(re).use(ue).use(ce),window.check=()=>null!==localStorage.getItem("token")&&void 0!==localStorage.getItem("token"),pe.mount("#app")}},t={};function o(a){var r=t[a];if(void 0!==r)return r.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,a,r,l){if(!a){var n=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],l=e[u][2];for(var i=!0,s=0;s<a.length;s++)(!1&l||n>=l)&&Object.keys(o.O).every((function(e){return o.O[e](a[s])}))?a.splice(s--,1):(i=!1,l<n&&(n=l));if(i){e.splice(u--,1);var d=r();void 0!==d&&(t=d)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[a,r,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,l,n=a[0],i=a[1],s=a[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(s)var u=s(o)}for(t&&t(a);d<n.length;d++)l=n[d],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(u)},a=self["webpackChunktodo_list"]=self["webpackChunktodo_list"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(7436)}));a=o.O(a)})();
//# sourceMappingURL=app.a70edddf.js.map